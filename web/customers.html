<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test CRUD</title>
    
<link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css">

</head>
<body>
    <div id="app" class="container mt-5">
        <div class="row">
            <div class="col-12 text-center">
                <h3>{{title}}</h3>
                <h3>แสดงข้อมูล Custommers</h3>
            </div>
            <div class="col-12">
                <table class="table table-hover">
                    <thead>
                        <th>ID</th>
                        <th>FirstName</th>
                        <th>SurName</th>
                        <th>Password</th>
                        <th>Email</th>
                        <th>Img</th>
                        <th>option</th>
                    </thead>
                    <tbody>
                        <tr v-for = "customer in customers">
                            <td>{{customer.Id}}</td>
                            <td>{{customer.Name}}</td>
                            <td>{{customer.Lname}}</td>
                            <td>{{customer.Password}}</td>
                            <td>{{customer.Email}}</td>
                            <td><img src="cat3.jpg" alt="cat" width="100" height="100"></td>
                            <td>
                                <a href="/web/edit.html">แก้ไข</a>
                                
                                <!-- <button type="button" class="btn btn-warning">แก้ไข</button> -->
                                <button type="button" class="btn btn-danger" onclick="myFunction()">ลบ</button>
                                
                            </td>
                        </tr>
                         <p>
                            <a href="/web/index.html">HOME</a>
                        </p>
                        <p>
                            <a href="/web/add.html">เพิ่ม</a>
                        </p>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <script>
        function myFunction() {
        //   alert("Are you sure you want to delete the data?");
          confirm("Are you sure you want to delete the data?");
        }
        </script>

    <script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"></script>


    <script>
        new Vue({
            el:"#app",
            data(){
                return{
                    title : "Test CRUD",
                    customers:[{
                        Id:       1,
                        Name:     "thitipan",
                        Lname:    "kijcharounpol",
                        Password: "password",
                        Email:    "thitipan991@gmail.com",
                        Img:      "cat3.jpg",
                    },
                    {
                        Id:       2,
                        Name:     "kkddna",
                        Lname:    "aeiou",
                        Password: "123456",
                        Email:    "ddkkiikk@gmail.com",
                        Img:      "cat2.jpg",
                    },
                    {
                        Id:       3,
                        Name:     "ddeeff",
                        Lname:    "aabbcc",
                        Password: "98765",
                        Email:    "bbbaaa@gmail.com",
                        Img:      "cat.jpg",
                    }]
                }
            },
            mounted(){
                axios.get('http://localhost:4000/customers')
                .then((res) => {
                    this.customers = res.data.response
                    console.log(vm.customers)
                })
            }
        })
    </script>
</body>
</html>